<html>
<head>

    <title>GSNv2 Test</title>

    <script src="bundle.js">
    </script>

</head>
<body>
    <h2>GSNv2 Test App</h2>

    <script>
      /*window.app.userbalance().then(function (balance) {
        console.log( 'userbalance: ', balance)
        document.getElementById('balance').innerHTML = balance
      })*/
      window.app.initContract().then(function ({contractAddress, network}) {
        console.log( 'CaptureTheFlag contract', contractAddress)
        console.log(`identified network: ${JSON.stringify(network)}`)
        document.getElementById('capture_button').disabled = false
        document.getElementById('through_tk1').disabled = false
        document.getElementById('through_tk2').disabled = false
        
      })
    </script>
    <p><button id="through_tk1" disabled onClick="window.app.contractCallTk1()">
        pay for TX through erc20permit token
    </button></p>
    <p><button id="through_tk2" disabled onClick="(async()=>{await window.app.contractCallTk2();})();">
        pay for TX through erc20 token
    </button></p>
    <p><button id="capture_button" disabled onClick="window.app.contractCall()">
        Capture the flag
    </button></p>

<hr>
<div id="logview"> </div>
</body>
</html>
